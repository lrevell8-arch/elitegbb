# EliteGBB Backend Environment Configuration
# Copy this file to .env and fill in your actual values

# ============================================
# DEMO MODE - NO DATABASE REQUIRED (Quick Testing)
# ============================================
# Set to 'true' to run without external database (uses in-memory storage)
# PERFECT FOR: Quick Cloudflare Pages testing without database setup
# WARNING: Data resets on each deploy. NOT FOR PRODUCTION.
DEMO_MODE=false

# ============================================
# SUPABASE CONFIGURATION (RECOMMENDED)
# ============================================
# Supabase is the recommended database for Cloudflare Pages deployment.
# It provides PostgreSQL with built-in auth, storage, and realtime features.
#
# SETUP:
# 1. Create free project at https://supabase.com
# 2. Go to Project Settings > API - copy URL and anon key
# 3. Go to Project Settings > Database > Connection String - copy URI
# 4. Run supabase_schema.sql in SQL Editor to create tables
# 5. Set these 3 variables in Cloudflare Pages environment:
#
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key-here
DATABASE_URL=postgresql://postgres:[PASSWORD]@db.[PROJECT_ID].supabase.co:5432/postgres

# ============================================
# ALTERNATIVE: MongoDB Atlas (if not using Supabase)
# ============================================
# Uncomment and configure if using MongoDB instead of Supabase
# MONGO_URL=mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/hwh_player_advantage?retryWrites=true&w=majority
# DB_NAME=hwh_player_advantage

# ============================================
# STRIPE PAYMENT CONFIGURATION
# ============================================
# Get your API keys from: https://dashboard.stripe.com/apikeys
# Use sk_test_... for testing, sk_live_... for production
STRIPE_API_KEY=sk_test_your_stripe_test_key_here

# Stripe Webhook Secret (for webhook endpoint)
# Get this from: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ============================================
# JWT AUTHENTICATION
# ============================================
# Generate a strong secret: openssl rand -hex 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256

# ============================================
# EMAIL CONFIGURATION (AWS SES)
# ============================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
SES_FROM_EMAIL=noreply@elitegbb.com
SES_FROM_NAME=EliteGBB

# Email Provider: mock (logs only) | ses (AWS SES production)
# For production, set to 'ses' and configure AWS credentials above
EMAIL_PROVIDER=mock

# ============================================
# FRONTEND URLS (for redirects)
# ============================================
FRONTEND_URL=https://app.elitegbb.com
SUCCESS_URL=https://app.elitegbb.com/success
CANCEL_URL=https://app.elitegbb.com/intake

# ============================================
# ============================================
# OPTIONAL: FEATURE FLAGS
# ============================================
USE_SUPABASE=true
ENABLE_PAYMENTS=true
ENABLE_EMAILS=true

# ============================================
# COACH ACCOUNT CONFIGURATION
# ============================================
# Set to 'false' to allow coaches to login immediately without admin verification
# Default: true (coaches must be verified by admin before login)
REQUIRE_COACH_VERIFICATION=true
