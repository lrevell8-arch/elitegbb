# EliteGBB Backend Environment Configuration
# Production Environment - Updated 2026-02-14

# ============================================
# üéØ DATABASE CONFIGURATION - SUPABASE (RECOMMENDED)
# ============================================
# SUPABASE IS THE RECOMMENDED DATABASE FOR CLOUDFLARE PAGES
# Benefits: PostgreSQL reliability, built-in auth, realtime, storage
#
# QUICK SETUP:
# 1. Create free project at https://supabase.com
# 2. Go to Project Settings > API to get URL and Anon Key
# 3. Go to Project Settings > Database > Connection String (URI)
# 4. Set all three variables below in Cloudflare Pages environment
#
# REQUIRED SUPABASE ENVIRONMENT VARIABLES:
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key-here
DATABASE_URL=postgresql://postgres:your-password@db.your-project.supabase.co:5432/postgres

# ============================================
# üéÆ DEMO MODE - NO DATABASE REQUIRED (Quick Testing)
# ============================================
# Set to 'true' to run without external database (uses in-memory storage)
# PERFECT FOR: Quick Cloudflare Pages testing without setting up database
# WARNING: Data resets on each deploy. NOT FOR PRODUCTION.
DEMO_MODE=false

# ============================================
# üîß ALTERNATIVE: MongoDB Atlas (if not using Supabase)
# ============================================
# MONGO_URL=mongodb+srv://username:password@cluster0.xxxxx.mongodb.net/hwh_player_advantage?retryWrites=true&w=majority
# DB_NAME=hwh_player_advantage

# ============================================
# üí≥ STRIPE PAYMENT CONFIGURATION
# ============================================
# Get your API keys from: https://dashboard.stripe.com/apikeys
# Use sk_test_... for testing, sk_live_... for production
# IMPORTANT: Replace with your actual Stripe secret key
STRIPE_API_KEY=sk_live_your_stripe_live_key_here

# Stripe Webhook Secret (for webhook endpoint)
# Get this from: https://dashboard.stripe.com/webhooks
# IMPORTANT: Replace with your actual webhook secret
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ============================================
# üîê JWT AUTHENTICATION
# ============================================
# Generate a strong secret: openssl rand -hex 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256

# ============================================
# üìß EMAIL CONFIGURATION (AWS SES)
# ============================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
SES_FROM_EMAIL=noreply@elitegbb.com
SES_FROM_NAME=EliteGBB

# Email Provider: mock (logs only) | ses (AWS SES production)
EMAIL_PROVIDER=ses

# ============================================
# üåê FRONTEND URLS (for redirects and Stripe success/cancel)
# ============================================
# These URLs are used for:
# 1. Password reset links
# 2. Stripe checkout success/cancel redirects
# 3. Email confirmation links
FRONTEND_URL=https://app.elitegbb.com
SUCCESS_URL=https://app.elitegbb.com/success
CANCEL_URL=https://app.elitegbb.com/intake

# ============================================
# ‚öôÔ∏è OPTIONAL: FEATURE FLAGS
# ============================================
USE_SUPABASE=true
ENABLE_PAYMENTS=true
ENABLE_EMAILS=true

# ============================================
# üë§ COACH ACCOUNT CONFIGURATION
# ============================================
# Set to 'false' to allow coaches to login immediately without admin verification
# Default: true (coaches must be verified by admin before login)
REQUIRE_COACH_VERIFICATION=true
